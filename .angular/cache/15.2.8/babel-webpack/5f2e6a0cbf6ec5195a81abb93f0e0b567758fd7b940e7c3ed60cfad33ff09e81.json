{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./shared/datastorage.service\";\nimport * as i2 from \"./auth/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction AppComponent_div_6_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"button\", 18)(2, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_6_div_11_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onLogout());\n    });\n    i0.ɵɵtext(3, \"Logout\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AppComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵlistener(\"resize\", function AppComponent_div_6_Template_div_resize_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.collapsed = true);\n    }, false, i0.ɵɵresolveWindow);\n    i0.ɵɵelementStart(1, \"ul\", 10)(2, \"li\", 11);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_6_Template_li_click_2_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onSaveData());\n    });\n    i0.ɵɵelementStart(3, \"a\", 12);\n    i0.ɵɵtext(4, \"Save Data\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"li\", 11);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_6_Template_li_click_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onFetchData());\n    });\n    i0.ɵɵelementStart(6, \"a\", 13);\n    i0.ɵɵtext(7, \"Fetch Data\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"li\", 14)(9, \"a\", 15);\n    i0.ɵɵtext(10, \"Dashboard\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(11, AppComponent_div_6_div_11_Template, 4, 0, \"div\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"collapse\", ctx_r0.collapsed);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isAuthenticated);\n  }\n}\nexport class AppComponent {\n  constructor(dataStorageService, authService) {\n    this.dataStorageService = dataStorageService;\n    this.authService = authService;\n    this.collapsed = true;\n    this.isAuthenticated = false;\n  }\n  ngOnInit() {\n    this.userSub = this.authService.user.subscribe(user => {\n      this.isAuthenticated = !user ? false : true;\n      console.log(!user);\n      console.log(!!user);\n    });\n  }\n  onSaveData() {\n    this.dataStorageService.storeData();\n  }\n  onFetchData() {\n    console.log(\"Data has been fetched\");\n  }\n  onLogout() {\n    this.authService.logout();\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.DataStorageService), i0.ɵɵdirectiveInject(i2.AuthService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 12,\n  vars: 1,\n  consts: [[1, \"navbar\", \"navbar-expand-lg\", \"bg-body-tertiary\"], [1, \"container-fluid\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-toggle\", \"collapse\", \"data-target\", \"#navbarNav\", 1, \"navbar-toggle\", \"collapsed\", 3, \"click\"], [1, \"navbar-toggler-icon\"], [\"class\", \"collapse navbar-collapse\", \"id\", \"navbarSupportedContent\", 3, \"collapse\", \"resize\", 4, \"ngIf\"], [1, \"container\"], [1, \"row\"], [1, \"col-md-12\"], [\"id\", \"navbarSupportedContent\", 1, \"collapse\", \"navbar-collapse\", 3, \"resize\"], [1, \"navbar-nav\", \"me-auto\", \"mb-2\", \"mb-lg-0\"], [\"routerLinkActive\", \"active\", 1, \"nav-item\", 2, \"cursor\", \"pointer\", 3, \"click\"], [\"routerLink\", \"/recipes\", 1, \"nav-link\", \"active\"], [\"routerLink\", \"/auth\", 1, \"nav-link\", \"active\"], [\"routerLinkActive\", \"active\", 1, \"nav-item\"], [\"routerLink\", \"/shopping-list\", 1, \"nav-link\", \"active\"], [\"class\", \"nav-item navbar-right\", 4, \"ngIf\"], [1, \"nav-item\", \"navbar-right\"], [\"type\", \"button\", 1, \"btn\", \"btn-warning\"], [2, \"cursor\", \"pointer\", 3, \"click\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵtext(3, \"Auth\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_4_listener() {\n        return ctx.collapsed = !ctx.collapsed;\n      });\n      i0.ɵɵelement(5, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, AppComponent_div_6_Template, 12, 3, \"div\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 6);\n      i0.ɵɵelement(11, \"router-outlet\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n    }\n  },\n  dependencies: [i3.NgIf, i4.RouterOutlet, i4.RouterLink, i4.RouterLinkActive],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAmBMA,+BAA2D;IAG5BA;MAAAA;MAAA;MAAA,OAASA,gCAAU;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAI;;;;;;IAfhEA,8BAA0J;IAAnCA;MAAAA;MAAA;MAAA,yCAA6B,IAAI;IAAA,6BAAC;IACvJA,8BAA4C;IAC6BA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAC3FA,6BAAiD;IAAAA,yBAAS;IAAAA,iBAAI;IAEhEA,8BAA+F;IAAxBA;MAAAA;MAAA;MAAA,OAASA,mCAAa;IAAA,EAAC;IAC5FA,6BAA8C;IAAAA,0BAAU;IAAAA,iBAAI;IAE9DA,8BAA+C;IACUA,0BAAS;IAAAA,iBAAI;IAGxEA,sEAKM;IACRA,iBAAM;;;;IAlBoFA,4CAA4B;IAYhFA,gBAAqB;IAArBA,6CAAqB;;;ACT/D,OAAM,MAAOC,YAAY;EAKvBC,YAAoBC,kBAAsC,EAAUC,WAAwB;IAAxE,uBAAkB,GAAlBD,kBAAkB;IAA8B,gBAAW,GAAXC,WAAW;IAH/E,cAAS,GAAG,IAAI;IAChB,oBAAe,GAAG,KAAK;EAEwE;EAE/FC,QAAQ;IACN,IAAI,CAACC,OAAO,GAAG,IAAI,CAACF,WAAW,CAACG,IAAI,CAACC,SAAS,CAC5CD,IAAI,IAAG;MACL,IAAI,CAACE,eAAe,GAAG,CAACF,IAAI,GAAG,KAAK,GAAG,IAAI;MAC3CG,OAAO,CAACC,GAAG,CAAC,CAACJ,IAAI,CAAC;MAClBG,OAAO,CAACC,GAAG,CAAC,CAAC,CAACJ,IAAI,CAAC;IACrB,CAAC,CACF;EACH;EAEAK,UAAU;IACR,IAAI,CAACT,kBAAkB,CAACU,SAAS,EAAE;EACrC;EAEAC,WAAW;IACTJ,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;EACtC;EAEAI,QAAQ;IACN,IAAI,CAACX,WAAW,CAACY,MAAM,EAAE;EAC3B;;AA3BWf,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA,YAAY;EAAAgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDVzBrB,8BAAsD;MAEjBA,oBAAI;MAAAA,iBAAI;MACvCA,iCAAuI;MAAjCA;QAAA;MAAA,EAAgC;MACpIA,0BAAyC;MAC3CA,iBAAS;MAEXA,8DAkBM;MACRA,iBAAM;MAGRA,8BAAuB;MAIfA,iCAA+B;MACjCA,iBAAM;;;MA3B2DA,eAAqB;MAArBA,0CAAqB","names":["i0","AppComponent","constructor","dataStorageService","authService","ngOnInit","userSub","user","subscribe","isAuthenticated","console","log","onSaveData","storeData","onFetchData","onLogout","logout","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/3rb/workspace/learning/practice/auth/auth-practice-2/src/app/app.component.html","/Users/3rb/workspace/learning/practice/auth/auth-practice-2/src/app/app.component.ts"],"sourcesContent":["<nav class=\"navbar navbar-expand-lg bg-body-tertiary\">\n  <div class=\"container-fluid\">\n    <a class=\"navbar-brand\" href=\"#\">Auth</a>\n      <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbarNav\" (click)=\"collapsed = !collapsed\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\" *ngIf=\"isAuthenticated\" [class.collapse]=\"collapsed\" (window:resize)=\"collapsed = true\">\n      <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n        <li class=\"nav-item\" routerLinkActive=\"active\" style=\"cursor: pointer\" (click)=\"onSaveData()\">\n          <a class=\"nav-link active\" routerLink=\"/recipes\">Save Data</a>\n        </li>\n        <li class=\"nav-item\" routerLinkActive=\"active\" style=\"cursor: pointer\" (click)=\"onFetchData()\">\n          <a class=\"nav-link active\" routerLink=\"/auth\">Fetch Data</a>\n        </li>\n        <li class=\"nav-item\" routerLinkActive=\"active\">\n          <a class=\"nav-link active\" routerLink=\"/shopping-list\">Dashboard</a>\n        </li>\n      </ul>\n      <div class=\"nav-item navbar-right\" *ngIf=\"isAuthenticated\">\n        <button type=\"button\"\n                class=\"btn btn-warning\">\n          <a style=\"cursor: pointer\" (click)='onLogout()'>Logout</a>\n        </button>\n      </div>\n    </div>\n  </div>\n</nav>\n\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"container\">\n        <router-outlet></router-outlet>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from \"@angular/core\";\nimport { AuthService } from \"./auth/auth.service\";\nimport { DataStorageService } from \"./shared/datastorage.service\";\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  private userSub: Subscription\n  collapsed = true;\n  isAuthenticated = false;\n\n  constructor(private dataStorageService: DataStorageService, private authService: AuthService) {}\n\n  ngOnInit() {\n    this.userSub = this.authService.user.subscribe(\n      user => {\n        this.isAuthenticated = !user ? false : true;\n        console.log(!user);\n        console.log(!!user);\n      }\n    );\n  }\n\n  onSaveData() {\n    this.dataStorageService.storeData();\n  }\n\n  onFetchData() {\n    console.log(\"Data has been fetched\")\n  }\n\n  onLogout() {\n    this.authService.logout();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}